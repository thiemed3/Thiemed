<?xml version="1.0" encoding="utf-8"?>
<odoo>
  <data>
    <!-- Acción de servidor para generar documento y enviar por correo -->
    <record id="ir_actions_server_payslip_generate_send" model="ir.actions.server">
      <field name="name">Generar Documento y Enviar Nómina</field>
      <field name="model_id" ref="hr_payroll.model_hr_payslip"/>
      <field name="state">code</field>
      <field name="code">records.action_generate_document_and_send_email()</field>
      <!-- FIX: usar binding en Odoo 18 para que aparezca en el listado (menú Acción) -->
      <field name="binding_model_id" ref="hr_payroll.model_hr_payslip"/>
      <field name="binding_type">action</field>
    </record>
  </data>
</odoo>
